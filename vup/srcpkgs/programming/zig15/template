# Template file for 'zig15'
pkgname=zig15
version=0.15.2
revision=2
archs="x86_64"
conflicts="zig"
short_desc="Programming language designed for robustness, optimality, and clarity"
maintainer="AmarBego <begovicamar@proton.me>"
license="MIT"
homepage="https://ziglang.org/"
distfiles="https://ziglang.org/download/${version}/zig-x86_64-linux-${version}.tar.xz"
checksum=02aa270f183da276e5b5920b1dac44a63f1a49e55050ebde3aecc9eb82f93239
nopie=yes
nocross=yes

do_install() {
	vmkdir usr/lib/zig
	vcopy lib usr/lib/zig
	vinstall zig 755 usr/lib/zig
	
	# Create wrapper script
	cat > zig.sh <<EOF
#!/bin/sh
exec /usr/lib/zig/zig "\$@"
EOF
	vbin zig.sh zig
	
	vlicense LICENSE
}
	